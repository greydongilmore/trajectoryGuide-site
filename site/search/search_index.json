{"config":{"lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"index.html","text":"An open-source software to sort clinical data into a BIDS compliant structure Currently, data2bids will convert EDF/EDF+ and DICOM file formats into a Brain Imaging Data Structure compliant format. European Data Format (EDF) \u00b6 The European Data Format (EDF) is a simple and flexible format for exchange and storage of multichannel biological and physical signals. It was developed by a few European medical engineers who first met at the 1987 international Sleep Congress in Copenhagen. In March 1990, they agreed upon a very simple file format to exchange their sleep recordings. This format became known as the European Data Format . An extension of EDF, named EDF+, was developed in 2002 and is largely compatible to EDF. However, the EDF+ format provides a few advantages: the files can contain interrupted recordings, annotations can be stored within the file along with stimuli/events. Medical type recordings often contain annotations about patient events, stimulation responses and are often discontinuous as the patient may require breaks during recording time. EDF+ allows for these medical type recordings to be stored much easier. The full specifications can be found on the EDF website . The site also supports users and developers by offering free downloads of files and software, a list of EDF(+) compatible companies and further contact possibilities. EDF File Structure \u00b6 EDF/EDF+ files consist of a header (ascii) that describes the contents of the file and the experimental settings. The data (int16) are stored after the header. The Header \u00b6 The EDF/EDF+ header is split into two parts: measurement info and channel info. The measurement info contains general information about the recording while the channel info contains specific information about each channel used to record. Thus, the length of the full header (the \u2018header record\u2019) equals: measurement info (256) + channel info (number of channels * 256) The header record is ascii only, and contains the following fields: Measurement Info \u00b6 The first 256 bytes in an EDF/EDF+ file is allocated to the measurement info (i.e. patient info, date and time of data acquisition, etc.). Field Size Position Notes version 8 0 version is always 0 patient id 80 8 Code Sex DOB Name 1 recording id 80 88 Startdate start_date ExpID InvestigID Equipment 2 startdate 8 168 dd.mm.yy starttime 8 176 hh.mm.ss number of bytes in header 8 184 reserved 44 192 EDF : empty EDF+ : EDF+C for continuous; EDF+D for discontinuous number of data records 8 236 nr duration of data record 8 244 in seconds number of signals 4 252 ns total 256 1 patient id Code: hospital subject code Sex: F or M DOB: birthdate in dd-MMM-yyyy Name: the patients name e.g. MCH-0234567 F 02-MAY-1951 Haagse_Harry 2 recording id Startdate: the text Startdate start_date: start date itself in dd-MMM-yyyy InvestigID: a code specifying the technition/clinician Equipment: a code specifying used equipment e.g. Startdate 02-MAR-2002 PSG-1234/2002 NN Telem03 Channel Info \u00b6 The channel info record is 256 bytes and each channel has its own channel info record. For instance, if 10 channels are used to record then there would be 10 * channel info records within the EDF/EDF+ header. For each channel, the following information is stored: Field Size Position Notes label 16 0 transducer 80 16 transducer type (i.e AgAgCl electrode) physical dim 8 96 physical dimension of channel data (i.e. \u03bcV) physical min 8 104 physical max 8 112 digital min 8 120 1 digital max 8 128 1 prefiltering 80 136 high-pass, low-pass and notch filters 2 number of samples 8 216 reserved 32 224 total 256 1 digital min/max digital range must be somewhere between -32768 and 32767 (because data samples are 16-bit signed integers) 2 prefiltering HighPass: HP LowPass: LP Notch: N e.g. HP:0.1Hz LP:75Hz N:60Hz After the channel info header blocks there are 256 bytes for each channel acquired. Note each field in the channel info record holds the values for all channels (rather than the header storing one full channel record, then a second full channel record, etc). That is, if e.g. two channels are acquired, then there will be two consecutive label fields (16 + 16 bytes), then two consecutive transducer fields (80 + 80 bytes), then two physical dim fields (8 + 8 bytes), etc. Data Record \u00b6 Data records follow after the header record. Here, data samples (of type int16) are stored in blocks ('data record'). Each block contains the samples acquired during a period of time specified in the header as duration of data record , and the total number of blocks in the file are number of data records . Note Note that EDF allows the acquisition of signals at different sampling rates; the number of samples per signal in each data block is in the signal header as number of samples in data record . For example, two signals signal_A and signal_B are acquired at 100 Hz and 5 Hz respectively. The data are saved every 20 seconds ( duration of data record = 20). Thus, one block of data (a data record)will consist of 2000 samples ( number of samples in data record = 100 Hz * 20 secs = 2000) from signal_A followed by 100 samples ( number of samples in data record = 5 Hz * 20 seconds = 100) from signal_B. If the header indicates that there are 70 such blocks ( number of data records = 70 ), then the total duration of the recording would be 70 x 20 = 1400 seconds ( number of data records * duration of data record ). EDF File Structure Diagram \u00b6","title":"Home"},{"location":"index.html#european-data-format-edf","text":"The European Data Format (EDF) is a simple and flexible format for exchange and storage of multichannel biological and physical signals. It was developed by a few European medical engineers who first met at the 1987 international Sleep Congress in Copenhagen. In March 1990, they agreed upon a very simple file format to exchange their sleep recordings. This format became known as the European Data Format . An extension of EDF, named EDF+, was developed in 2002 and is largely compatible to EDF. However, the EDF+ format provides a few advantages: the files can contain interrupted recordings, annotations can be stored within the file along with stimuli/events. Medical type recordings often contain annotations about patient events, stimulation responses and are often discontinuous as the patient may require breaks during recording time. EDF+ allows for these medical type recordings to be stored much easier. The full specifications can be found on the EDF website . The site also supports users and developers by offering free downloads of files and software, a list of EDF(+) compatible companies and further contact possibilities.","title":"European Data Format (EDF)"},{"location":"index.html#edf-file-structure","text":"EDF/EDF+ files consist of a header (ascii) that describes the contents of the file and the experimental settings. The data (int16) are stored after the header.","title":"EDF File Structure"},{"location":"index.html#the-header","text":"The EDF/EDF+ header is split into two parts: measurement info and channel info. The measurement info contains general information about the recording while the channel info contains specific information about each channel used to record. Thus, the length of the full header (the \u2018header record\u2019) equals: measurement info (256) + channel info (number of channels * 256) The header record is ascii only, and contains the following fields:","title":"The Header"},{"location":"index.html#measurement-info","text":"The first 256 bytes in an EDF/EDF+ file is allocated to the measurement info (i.e. patient info, date and time of data acquisition, etc.). Field Size Position Notes version 8 0 version is always 0 patient id 80 8 Code Sex DOB Name 1 recording id 80 88 Startdate start_date ExpID InvestigID Equipment 2 startdate 8 168 dd.mm.yy starttime 8 176 hh.mm.ss number of bytes in header 8 184 reserved 44 192 EDF : empty EDF+ : EDF+C for continuous; EDF+D for discontinuous number of data records 8 236 nr duration of data record 8 244 in seconds number of signals 4 252 ns total 256 1 patient id Code: hospital subject code Sex: F or M DOB: birthdate in dd-MMM-yyyy Name: the patients name e.g. MCH-0234567 F 02-MAY-1951 Haagse_Harry 2 recording id Startdate: the text Startdate start_date: start date itself in dd-MMM-yyyy InvestigID: a code specifying the technition/clinician Equipment: a code specifying used equipment e.g. Startdate 02-MAR-2002 PSG-1234/2002 NN Telem03","title":"Measurement Info"},{"location":"index.html#channel-info","text":"The channel info record is 256 bytes and each channel has its own channel info record. For instance, if 10 channels are used to record then there would be 10 * channel info records within the EDF/EDF+ header. For each channel, the following information is stored: Field Size Position Notes label 16 0 transducer 80 16 transducer type (i.e AgAgCl electrode) physical dim 8 96 physical dimension of channel data (i.e. \u03bcV) physical min 8 104 physical max 8 112 digital min 8 120 1 digital max 8 128 1 prefiltering 80 136 high-pass, low-pass and notch filters 2 number of samples 8 216 reserved 32 224 total 256 1 digital min/max digital range must be somewhere between -32768 and 32767 (because data samples are 16-bit signed integers) 2 prefiltering HighPass: HP LowPass: LP Notch: N e.g. HP:0.1Hz LP:75Hz N:60Hz After the channel info header blocks there are 256 bytes for each channel acquired. Note each field in the channel info record holds the values for all channels (rather than the header storing one full channel record, then a second full channel record, etc). That is, if e.g. two channels are acquired, then there will be two consecutive label fields (16 + 16 bytes), then two consecutive transducer fields (80 + 80 bytes), then two physical dim fields (8 + 8 bytes), etc.","title":"Channel Info"},{"location":"index.html#data-record","text":"Data records follow after the header record. Here, data samples (of type int16) are stored in blocks ('data record'). Each block contains the samples acquired during a period of time specified in the header as duration of data record , and the total number of blocks in the file are number of data records . Note Note that EDF allows the acquisition of signals at different sampling rates; the number of samples per signal in each data block is in the signal header as number of samples in data record . For example, two signals signal_A and signal_B are acquired at 100 Hz and 5 Hz respectively. The data are saved every 20 seconds ( duration of data record = 20). Thus, one block of data (a data record)will consist of 2000 samples ( number of samples in data record = 100 Hz * 20 secs = 2000) from signal_A followed by 100 samples ( number of samples in data record = 5 Hz * 20 seconds = 100) from signal_B. If the header indicates that there are 70 such blocks ( number of data records = 70 ), then the total duration of the recording would be 70 x 20 = 1400 seconds ( number of data records * duration of data record ).","title":"Data Record"},{"location":"index.html#edf-file-structure-diagram","text":"","title":"EDF File Structure Diagram"},{"location":"installation.html","text":"Installation \u00b6 There are a few ways to install data2bids . For those looking to simply run the software you should install a compiled version. Currently, the software comes pre-compiled for Windows 10 systems. Windows \u00b6 For 64-bit Windows, compiled version can be found in this google drive folder . Make sure to download the latest version, the zipped folders contain the date of compiling. Compile from source \u00b6 For users wanting to compile the source code, you can obtain the code from the GitHub repository . Python Setup \u00b6 First you will need to install Python, depending on what operating system you are using there are different approaches. Windows \u00b6 You will need to download the windows python installer . Underneath the heading at the top that says Python Releases for Windows, click on the link for the Latest Python 3 Release - Python 3.x.x Scroll to the bottom and select either Windows x86-64 executable installer for 64-bit or Windows x86 executable installer for 32-bit Install by double-clicking on the downloaded file. Mac \u00b6 Install Homebrew by opening a Terminal window and pasting the following line. /usr/bin/ruby -e $(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install) Homebrew asks you to enter your password so it can finalize the installation. Enter your user account password and hit enter Once Homebrew has finished installing, return to your terminal and run the following command: brew install python3 Linux \u00b6 Open a terminal window and run the following commands: sudo apt-get install python3.6 sudo apt install python3-pip Compiling \u00b6 Make a directory on your computer to store the source code: mkdir /Documents/software Clone a copy of the data2bids repository to your system: cd /Documents/software git clone https://github.com/greydongilmore/data2bids.git Install the Python dependencies by opening a terminal, changing to the project directory and running: cd /data2bids python3 -m pip install -r requirements.txt Once you have installed the dependencies, you can run the program from the Terminal (from within the data2bids directory): python3 main.py To compile data2bids for your platform, you can run the following: python3 setup.py build_exe Other Useful Software \u00b6 EDFBrowser \u00b6 EDFBrowser (developed by Teunis van Beelen) is a free, open-source, viewer/toolbox for EEG/IEEG data. It is a great tool to use when attempting to organize your input directory for data2bids . Windows \u00b6 For 64-bit windows download this file . For 32-bit Windows download this file . Mac \u00b6 You can download the latests .dmg file from this website . Linux \u00b6 To install on Linux, you must first have the dependencies installed ( g++ , Qt5 ): sudo apt-get update sudo apt-get install g++ make git qtbase5-dev-tools qtbase5-dev qt5-default Then enter the following commands to download and install: git clone https://gitlab.com/Teuniz/EDFbrowser.git cd EDFbrowser qmake make -j4 sudo make install edfbrowser","title":"Installation"},{"location":"installation.html#installation","text":"There are a few ways to install data2bids . For those looking to simply run the software you should install a compiled version. Currently, the software comes pre-compiled for Windows 10 systems.","title":"Installation"},{"location":"installation.html#windows","text":"For 64-bit Windows, compiled version can be found in this google drive folder . Make sure to download the latest version, the zipped folders contain the date of compiling.","title":"Windows"},{"location":"installation.html#compile-from-source","text":"For users wanting to compile the source code, you can obtain the code from the GitHub repository .","title":"Compile from source"},{"location":"installation.html#python-setup","text":"First you will need to install Python, depending on what operating system you are using there are different approaches.","title":"Python Setup"},{"location":"installation.html#windows_1","text":"You will need to download the windows python installer . Underneath the heading at the top that says Python Releases for Windows, click on the link for the Latest Python 3 Release - Python 3.x.x Scroll to the bottom and select either Windows x86-64 executable installer for 64-bit or Windows x86 executable installer for 32-bit Install by double-clicking on the downloaded file.","title":"Windows"},{"location":"installation.html#mac","text":"Install Homebrew by opening a Terminal window and pasting the following line. /usr/bin/ruby -e $(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install) Homebrew asks you to enter your password so it can finalize the installation. Enter your user account password and hit enter Once Homebrew has finished installing, return to your terminal and run the following command: brew install python3","title":"Mac"},{"location":"installation.html#linux","text":"Open a terminal window and run the following commands: sudo apt-get install python3.6 sudo apt install python3-pip","title":"Linux"},{"location":"installation.html#compiling","text":"Make a directory on your computer to store the source code: mkdir /Documents/software Clone a copy of the data2bids repository to your system: cd /Documents/software git clone https://github.com/greydongilmore/data2bids.git Install the Python dependencies by opening a terminal, changing to the project directory and running: cd /data2bids python3 -m pip install -r requirements.txt Once you have installed the dependencies, you can run the program from the Terminal (from within the data2bids directory): python3 main.py To compile data2bids for your platform, you can run the following: python3 setup.py build_exe","title":"Compiling"},{"location":"installation.html#other-useful-software","text":"","title":"Other Useful Software"},{"location":"installation.html#edfbrowser","text":"EDFBrowser (developed by Teunis van Beelen) is a free, open-source, viewer/toolbox for EEG/IEEG data. It is a great tool to use when attempting to organize your input directory for data2bids .","title":"EDFBrowser"},{"location":"installation.html#windows_2","text":"For 64-bit windows download this file . For 32-bit Windows download this file .","title":"Windows"},{"location":"installation.html#mac_1","text":"You can download the latests .dmg file from this website .","title":"Mac"},{"location":"installation.html#linux_1","text":"To install on Linux, you must first have the dependencies installed ( g++ , Qt5 ): sudo apt-get update sudo apt-get install g++ make git qtbase5-dev-tools qtbase5-dev qt5-default Then enter the following commands to download and install: git clone https://gitlab.com/Teuniz/EDFbrowser.git cd EDFbrowser qmake make -j4 sudo make install edfbrowser","title":"Linux"},{"location":"getting_started/01_overview.html","text":"This section describes steps required to use data2bids . If you have not installed data2bids you have two options: Install a compiled version Compile from source code The following steps should be taken sequentially: Adjust software settings (only done once at initial install) Export data from NeuroWorks Organize your input directory Organize imaging directory Check EDF file type Confirm input directory data Confirm output directory data Check output folder data Convert/Upload data to SPReD [EpLink study only] EpLink Study Workflow \u00b6","title":"Overview"},{"location":"getting_started/01_overview.html#eplink-study-workflow","text":"","title":"EpLink Study Workflow"},{"location":"getting_started/02_definitions.html","text":"Filename terms \u00b6 Throughout this documentation the following filename terms will be used: term definition sub_num specific subject number visit_num each stay within the hospital (2 digits) ses_num each day spent in hospital during the visit (2 digits starting with SE, ex. SE01) type type of data collected (should be _IEEG/_EEG) task format of the edf data (should be _CLIP/_FULL/_CS) RET if included, indicates the study is retrospective 1 1 if not present then study assumed to be prospective (PRO), so you do not need to include this flag for prospective sessions Note on Visit Numbers If any retrospective studies exist for a subject, they should be assigned the first visit number 01 All following admissions to the hospital would be given incremental visit numbers (i.e. visit 2: 02, visit 3: 03) Two separate admissions to the hospital should not have the same visit number Scalp and Intracranial recordings should have distinct visit numbers (ex. If 01 is used for the participant\u2019s first stay in the EMU for scalp EEG, 02 should be used if they come back for intracranial EEG) Note on Session Numbers If a day in sequence of sessions is missing/not present this session number should still be accounted for e.g. ses-001 ( data present ) , ses-002 ( data missing ) , ses-003 ( data present ) The directory naming would look like: sub-003_01_SE01_IEEG_FULL_RET sub-003_01_SE03_IEEG_FULL_RET Notice that no folder is specified for the missing ses-002 but the number is still accounted for by skipping it. data2bids terms \u00b6 Within the data2bids software, the columns present within the input/output windows are: term definition Name this is the name of the subdirectory within the patient folder that contains the EDF/EDF+ file. If the EDF/EDF+ files are all in the same directory, then the name will be the name of the EDF/EDF+ files. Date the date the data was recorded Time the time the data was recorded Size the size of the EDF/EDF+ file in gigabytes Frequency [modifiable] the frequency the data was recorded at. This is automatically calculated based on information extracted from the EDF/EDF+ file. However, if there is an error then the user can double click on the frequency box and manually change it Duration the total duration of the EDF/EDF+ file recording, which is automatically calculated EDF Type type of EDF+ file (EDF+D/EDF+C). This field should always show EDF+C, if EDF+D then the file should be converted first Type [selectable] the type of EEG data collected (Intracranial or Scalp). This value is automatically detected by the flags _EEG/_IEEG used in the directory name. This value can be changed by the user if there is an error Task [selectable] the condition of the recorded file: Full, clip or cortical stimulation (CS). This value is automatically detected by the flags _CLIP/_FULL/_CS used in the directory name. This can be changed by the user if there is an error Ret/Pro [selectable] whether the data file is retrospective or prospective. This value is automatically detected based on the RET flag used in the directory name. This value can be changed by the user if there is an error Channel File this indicates if a channel_labels.txt file was found. If you notice the labels changed in a specific session you can include a channel_label.txt file within each session folder. Yes indicates a channel label file was found, No otherwise Imaging Data this indicates if an imaging directory was found in the root of the subjects directory. Yes indicates the directory was found, No otherwise","title":"Definitions"},{"location":"getting_started/02_definitions.html#filename-terms","text":"Throughout this documentation the following filename terms will be used: term definition sub_num specific subject number visit_num each stay within the hospital (2 digits) ses_num each day spent in hospital during the visit (2 digits starting with SE, ex. SE01) type type of data collected (should be _IEEG/_EEG) task format of the edf data (should be _CLIP/_FULL/_CS) RET if included, indicates the study is retrospective 1 1 if not present then study assumed to be prospective (PRO), so you do not need to include this flag for prospective sessions Note on Visit Numbers If any retrospective studies exist for a subject, they should be assigned the first visit number 01 All following admissions to the hospital would be given incremental visit numbers (i.e. visit 2: 02, visit 3: 03) Two separate admissions to the hospital should not have the same visit number Scalp and Intracranial recordings should have distinct visit numbers (ex. If 01 is used for the participant\u2019s first stay in the EMU for scalp EEG, 02 should be used if they come back for intracranial EEG) Note on Session Numbers If a day in sequence of sessions is missing/not present this session number should still be accounted for e.g. ses-001 ( data present ) , ses-002 ( data missing ) , ses-003 ( data present ) The directory naming would look like: sub-003_01_SE01_IEEG_FULL_RET sub-003_01_SE03_IEEG_FULL_RET Notice that no folder is specified for the missing ses-002 but the number is still accounted for by skipping it.","title":"Filename terms"},{"location":"getting_started/02_definitions.html#data2bids-terms","text":"Within the data2bids software, the columns present within the input/output windows are: term definition Name this is the name of the subdirectory within the patient folder that contains the EDF/EDF+ file. If the EDF/EDF+ files are all in the same directory, then the name will be the name of the EDF/EDF+ files. Date the date the data was recorded Time the time the data was recorded Size the size of the EDF/EDF+ file in gigabytes Frequency [modifiable] the frequency the data was recorded at. This is automatically calculated based on information extracted from the EDF/EDF+ file. However, if there is an error then the user can double click on the frequency box and manually change it Duration the total duration of the EDF/EDF+ file recording, which is automatically calculated EDF Type type of EDF+ file (EDF+D/EDF+C). This field should always show EDF+C, if EDF+D then the file should be converted first Type [selectable] the type of EEG data collected (Intracranial or Scalp). This value is automatically detected by the flags _EEG/_IEEG used in the directory name. This value can be changed by the user if there is an error Task [selectable] the condition of the recorded file: Full, clip or cortical stimulation (CS). This value is automatically detected by the flags _CLIP/_FULL/_CS used in the directory name. This can be changed by the user if there is an error Ret/Pro [selectable] whether the data file is retrospective or prospective. This value is automatically detected based on the RET flag used in the directory name. This value can be changed by the user if there is an error Channel File this indicates if a channel_labels.txt file was found. If you notice the labels changed in a specific session you can include a channel_label.txt file within each session folder. Yes indicates a channel label file was found, No otherwise Imaging Data this indicates if an imaging directory was found in the root of the subjects directory. Yes indicates the directory was found, No otherwise","title":"data2bids terms"},{"location":"getting_started/03_edf2bids_settings.html","text":"Adjusting metadata settings \u00b6 Note You will only need to modify these settings once upon initial installation of the data2bids software In the data2bids software, select File then Settings . A settings panel will appear with two tabs: Json Metadata and Electrode Info. Json metadata contains general information about the dataset. Lab: what is the name of the lab collecting this data Experimenter: list all individuals involved in this dataset Dataset Name: overall name for the dataset. Institution Name/Address: name and address of the institution at which this dataset was collected Electrode info contains information about the specific electrodes used at the center: Manufacturer: who produces the electrodes. Type: what type of electrode is it (i.e. depth, scalp etc.) Material: what material are the electrodes made from (i.e. platinum) Diameter: what is the diameter of the electrode (in mm) Once you have modified the information click Save and the information will be stored and used for every subsequent dataset processed by data2bids . You will not need to re-define these values, unless they change at your site. Main window settings panel \u00b6 The settings panel is located at the bottom left of the main window. De-identify input directory : if this is selected the input EDF/EDF+ files will be de-identified first prior to being copied. If left unchecked, then only the output directory EDF/EDF+ files will be de-identified. Default is unchecked. Offset dates : if selected all dates in the EDF/EDF+ files will be offset by a random number of days (~1000 days). The offset value can be determined but is securely stored. Dry run : this should be selected when running a new conversion. This option will not copy the EDF/EDF+ files to the output directory but will check to ensure the input directory is set-up correctly. Since copying the EDF/EDF+ files is a time-intensive process, this dry-run will be much faster then a full conversion and will notify you if any files are formated incorrectly within the input directory.","title":"data2bids Settings"},{"location":"getting_started/03_edf2bids_settings.html#adjusting-metadata-settings","text":"Note You will only need to modify these settings once upon initial installation of the data2bids software In the data2bids software, select File then Settings . A settings panel will appear with two tabs: Json Metadata and Electrode Info. Json metadata contains general information about the dataset. Lab: what is the name of the lab collecting this data Experimenter: list all individuals involved in this dataset Dataset Name: overall name for the dataset. Institution Name/Address: name and address of the institution at which this dataset was collected Electrode info contains information about the specific electrodes used at the center: Manufacturer: who produces the electrodes. Type: what type of electrode is it (i.e. depth, scalp etc.) Material: what material are the electrodes made from (i.e. platinum) Diameter: what is the diameter of the electrode (in mm) Once you have modified the information click Save and the information will be stored and used for every subsequent dataset processed by data2bids . You will not need to re-define these values, unless they change at your site.","title":"Adjusting metadata settings"},{"location":"getting_started/03_edf2bids_settings.html#main-window-settings-panel","text":"The settings panel is located at the bottom left of the main window. De-identify input directory : if this is selected the input EDF/EDF+ files will be de-identified first prior to being copied. If left unchecked, then only the output directory EDF/EDF+ files will be de-identified. Default is unchecked. Offset dates : if selected all dates in the EDF/EDF+ files will be offset by a random number of days (~1000 days). The offset value can be determined but is securely stored. Dry run : this should be selected when running a new conversion. This option will not copy the EDF/EDF+ files to the output directory but will check to ensure the input directory is set-up correctly. Since copying the EDF/EDF+ files is a time-intensive process, this dry-run will be much faster then a full conversion and will notify you if any files are formated incorrectly within the input directory.","title":"Main window settings panel"},{"location":"getting_started/04_neuroworks_export.html","text":"Creating an export template \u00b6 It is a good idea to determine all the headboxes used to collect EEG/iEEG data at your institution. Once known, you will only need to create one template for each headbox. In NeuroWorks Database, select (highlight) the study patient you want to export (if a patient has used two different headboxes then you will need to make/use a different template for each one). Choose Administration > Export . Alternately, you can right-click and select Export\u2026 from the context menu. The Export Studies dialog opens. Before selecting the Export button, ensure that EDF/EDF+ on the open dialog is selected. The list of studies will update to include a Template column. Right-click on the displayed information for the study. The context menu displays showing the options available. From the context menu, you can choose one of the following: Edit Template: Edit an existing, selected template Create Template: Create a new template based on the headbox type Note a new template is not required for each export. You will only need to create one template for every headbox used at your institution. See the sections below on creating and modifying export templates. From the context menu in the Export dialog, select Create Template . The EDF Template Editor dialog displays showing the Channels Tab. Channels Tab \u00b6 Give the template a new name by typing it in the Name box. Ideally create one template for every headbox used at your center. To ensure the templates are not modified or deleted at your center we suggest adding eplink to the template name (i.e. eplink_eeg_128_template or eplink_quantum_template). The Channels tab dialog allows for the selection of the channels that will be exported in the EDF file, as well as the definition of those channels. Raw Data (check this box for EpLink): this option exports the study data with no montage associated. Acquisition Montage (ignore): this option exports the study data using the patient\u2019s montage. Montage (ignore): this option exports the study using a compatible montage based on headbox and study type. This can be chosen from the available dropdown menu. For EpLink select Raw Data . Select the checkbox Add Patient Event Channel to include this channel in the export. You do not need to select Add Trigger Channel . Options Tab \u00b6 Select the Options tab to modify the various options associated with exporting the studies to EDF/EDF+. Select the EDF+ radio button to choose the format of the export. Choose the desired File Extension (.EDF) from the dropdown. Do not check the Deidentify Patient Information checkbox. This information will be removed by the conversion software and the patient name is needed in order to remove any potential traces of it from the EDF file, including any annotations. The conversion software will be run before the EEGs are uploaded to Brain-CODE so EEGs will still be de-identified before leaving the site. When the EDF+ option is selected, the Pad Gaps with Zeros checkbox is enabled. Select this checkbox so gaps in the recording will be filled with zeros. This ensures the EDF+ file is continuous. EDF+ supports gaps (disconnects) in the studies, however this makes analysis more difficult as timepoints will be shifted. Select the checkbox next to Invert AC Channels to invert the polarity of the AC channels when the study is exported. We will not select anything in the File Size Limitations box. Click the Save button on the Channels tab prior to clicking OK in order to save the template. Ensure you remember the name of the template for use later. Once saved, you can close the EDF template Editor dialog. Note once you have saved a headbox template, if another patient uses that headbox then the template you created will automatically be selected by NeuroWorks for the subsequent patient. Saving channel labels \u00b6 In NeuroWorks Database, double-click any study for patient you want to export. When the study loads in the viewer, select the first Montage event in the annotations window on the left. This will ensure you are at the point in the recording that the montage was set for the patient. Choose Edit > Settings and select the Channel Labels tab. Select the From Montage button. This will load the channel labels used for the patient. Select all the labels and save them within a text file called \u201cchannel_labels.txt\u201d. Single EDF export \u00b6 In NeuroWorks Database, select (highlight) the study patient you want to export. Choose Administration > Export . Alternately, you can right-click and select Export\u2026 from the context menu. The Export Studies dialog opens. Before selecting the Export button, ensure that EDF/EDF+ on the open dialog is selected. The list of studies will update to include a Template column. Confirm the template chosen matches the headbox used for that study. If the template is not correct, click on the template name and select the appropriate headbox template. Once you have confirmed the correct headbox template select Export . Batch EDF export \u00b6 Before running the NeuroWorks EDF batch export, you will need to locate three items. EDF Export Template: This is the template you saved for the specific headbox. Find the installation directory for the NeuroWorks software. The directory name will be Neuroworks and it is usually found at C:\\Neuroworks or D:\\Neuroworks . Within this directory select the Settings directory. Finally, find the EDF Export Template you saved previously, it will be the name you chose with the extension .exp . Ensure you are selecting the correct template for the specific patient. Within the NeuroWorks database, search for the patient and make a note of the headbox that was used for that patient (this is found in a column to the far right of the main window) Note The template file needs to remain in the Neuroworks\\Settings directory. If you attempt to run the conversion with a template path outside this directory it won\u2019t run. EDFExport.exe: This is the executable you will use to run the batch export of EDF files. This executable will be found within the installation directory for the NeuroWorks software. Usually the full path will be located at: C:\\Neuroworks\\EDFExport.exe or D:\\Neuroworks\\EDFExport.exe . Source Patient Data Directory: If you haven\u2019t exported the subjects data from NeuroWorks yet, you can use the NeuroWorks database storage path to find the subject and avoid having to export from NeuroWorks first. NeuroWorks stores the raw data for every patient on a Network drive (see figure below). Most often the drive will be Z:\\ . You will need to determine where this location is on your system. Right click on the Windows Start Menu and select File Explorer . Create study path text file \u00b6 Navigate to the NeuroWorks data storage drive. Once in that directory you can now search for the subjects name (Lastname Firstname) in the search box at the top right of the File Explorer window. You can press the red X to stop the search if it seems to be going on forever. The search results up to that point will not be removed if you stop the search. Sort the subjects folders by selecting Date Modified at the top. This will organize the subjects folders from newest to oldest. Right click on the computer desktop select New > Text Document . Rename the text document to match the subject you will be exporting. Open the text document. Each line should be the full path the specific study you want to export for the subject. In the NeuroWorks patient directory folder, start at the oldest study folder by scrolling to the bottom. If multiple folders exist on the same day, hover the mouse over each folder to determine the size (iEEG data is typically ~20-25 gb in size). Once you have determined the right directory, open the directory and find the .eeg file (usually at the top). If you right click on the search bar you can copy the directory path and paste it into the text file. Then copy the filename of the .eeg and add that to the text file as well to complete the path. You can also right click on the file select Properties and copy the full path from the window that opens. In the text document paste the full path to the .eeg file you just copied. You will then need to provide the full path to where the EDF Export Template is for this subject by adding it to the same line. Following the .eeg path, enter a comma and a space followed by the full path to the template: Repeat steps 2-4 for all study dates for the subject. Save the text document and close it. Running batch export \u00b6 Now it is time to run the batch conversion. Click on the Windows start menu and search for Command Prompt . Double click to open a command prompt window. You will now enter the command to perform the conversion, using the information you have previously gathered. Input 1: Type the full path to where you found the EDFExport.exe within quotations: Input 2: Press the spacebar and type -f , followed by another space and the path to where the subject text document is located that you created. Put the path within quotations: Lastly, you need to specify where you want the exported EDFs to go. Create a new folder on your encrypted hard drive for this export and copy the full path to that directory. Input 3: In the command prompt, enter a space after the path for the text document then enter -o and another space followed by the full path to the output directory. Again, ensure you place the path within quotations: In the command prompt window, the function will look like: Once you have entered the full command hit the Enter key to begin conversion. For a 25gb file, the conversion will take ~15mins. Return in a few hours to check on the conversion","title":"Export from NeuroWorks"},{"location":"getting_started/04_neuroworks_export.html#creating-an-export-template","text":"It is a good idea to determine all the headboxes used to collect EEG/iEEG data at your institution. Once known, you will only need to create one template for each headbox. In NeuroWorks Database, select (highlight) the study patient you want to export (if a patient has used two different headboxes then you will need to make/use a different template for each one). Choose Administration > Export . Alternately, you can right-click and select Export\u2026 from the context menu. The Export Studies dialog opens. Before selecting the Export button, ensure that EDF/EDF+ on the open dialog is selected. The list of studies will update to include a Template column. Right-click on the displayed information for the study. The context menu displays showing the options available. From the context menu, you can choose one of the following: Edit Template: Edit an existing, selected template Create Template: Create a new template based on the headbox type Note a new template is not required for each export. You will only need to create one template for every headbox used at your institution. See the sections below on creating and modifying export templates. From the context menu in the Export dialog, select Create Template . The EDF Template Editor dialog displays showing the Channels Tab.","title":"Creating an export template"},{"location":"getting_started/04_neuroworks_export.html#channels-tab","text":"Give the template a new name by typing it in the Name box. Ideally create one template for every headbox used at your center. To ensure the templates are not modified or deleted at your center we suggest adding eplink to the template name (i.e. eplink_eeg_128_template or eplink_quantum_template). The Channels tab dialog allows for the selection of the channels that will be exported in the EDF file, as well as the definition of those channels. Raw Data (check this box for EpLink): this option exports the study data with no montage associated. Acquisition Montage (ignore): this option exports the study data using the patient\u2019s montage. Montage (ignore): this option exports the study using a compatible montage based on headbox and study type. This can be chosen from the available dropdown menu. For EpLink select Raw Data . Select the checkbox Add Patient Event Channel to include this channel in the export. You do not need to select Add Trigger Channel .","title":"Channels Tab"},{"location":"getting_started/04_neuroworks_export.html#options-tab","text":"Select the Options tab to modify the various options associated with exporting the studies to EDF/EDF+. Select the EDF+ radio button to choose the format of the export. Choose the desired File Extension (.EDF) from the dropdown. Do not check the Deidentify Patient Information checkbox. This information will be removed by the conversion software and the patient name is needed in order to remove any potential traces of it from the EDF file, including any annotations. The conversion software will be run before the EEGs are uploaded to Brain-CODE so EEGs will still be de-identified before leaving the site. When the EDF+ option is selected, the Pad Gaps with Zeros checkbox is enabled. Select this checkbox so gaps in the recording will be filled with zeros. This ensures the EDF+ file is continuous. EDF+ supports gaps (disconnects) in the studies, however this makes analysis more difficult as timepoints will be shifted. Select the checkbox next to Invert AC Channels to invert the polarity of the AC channels when the study is exported. We will not select anything in the File Size Limitations box. Click the Save button on the Channels tab prior to clicking OK in order to save the template. Ensure you remember the name of the template for use later. Once saved, you can close the EDF template Editor dialog. Note once you have saved a headbox template, if another patient uses that headbox then the template you created will automatically be selected by NeuroWorks for the subsequent patient.","title":"Options Tab"},{"location":"getting_started/04_neuroworks_export.html#saving-channel-labels","text":"In NeuroWorks Database, double-click any study for patient you want to export. When the study loads in the viewer, select the first Montage event in the annotations window on the left. This will ensure you are at the point in the recording that the montage was set for the patient. Choose Edit > Settings and select the Channel Labels tab. Select the From Montage button. This will load the channel labels used for the patient. Select all the labels and save them within a text file called \u201cchannel_labels.txt\u201d.","title":"Saving channel labels"},{"location":"getting_started/04_neuroworks_export.html#single-edf-export","text":"In NeuroWorks Database, select (highlight) the study patient you want to export. Choose Administration > Export . Alternately, you can right-click and select Export\u2026 from the context menu. The Export Studies dialog opens. Before selecting the Export button, ensure that EDF/EDF+ on the open dialog is selected. The list of studies will update to include a Template column. Confirm the template chosen matches the headbox used for that study. If the template is not correct, click on the template name and select the appropriate headbox template. Once you have confirmed the correct headbox template select Export .","title":"Single EDF export"},{"location":"getting_started/04_neuroworks_export.html#batch-edf-export","text":"Before running the NeuroWorks EDF batch export, you will need to locate three items. EDF Export Template: This is the template you saved for the specific headbox. Find the installation directory for the NeuroWorks software. The directory name will be Neuroworks and it is usually found at C:\\Neuroworks or D:\\Neuroworks . Within this directory select the Settings directory. Finally, find the EDF Export Template you saved previously, it will be the name you chose with the extension .exp . Ensure you are selecting the correct template for the specific patient. Within the NeuroWorks database, search for the patient and make a note of the headbox that was used for that patient (this is found in a column to the far right of the main window) Note The template file needs to remain in the Neuroworks\\Settings directory. If you attempt to run the conversion with a template path outside this directory it won\u2019t run. EDFExport.exe: This is the executable you will use to run the batch export of EDF files. This executable will be found within the installation directory for the NeuroWorks software. Usually the full path will be located at: C:\\Neuroworks\\EDFExport.exe or D:\\Neuroworks\\EDFExport.exe . Source Patient Data Directory: If you haven\u2019t exported the subjects data from NeuroWorks yet, you can use the NeuroWorks database storage path to find the subject and avoid having to export from NeuroWorks first. NeuroWorks stores the raw data for every patient on a Network drive (see figure below). Most often the drive will be Z:\\ . You will need to determine where this location is on your system. Right click on the Windows Start Menu and select File Explorer .","title":"Batch EDF export"},{"location":"getting_started/04_neuroworks_export.html#create-study-path-text-file","text":"Navigate to the NeuroWorks data storage drive. Once in that directory you can now search for the subjects name (Lastname Firstname) in the search box at the top right of the File Explorer window. You can press the red X to stop the search if it seems to be going on forever. The search results up to that point will not be removed if you stop the search. Sort the subjects folders by selecting Date Modified at the top. This will organize the subjects folders from newest to oldest. Right click on the computer desktop select New > Text Document . Rename the text document to match the subject you will be exporting. Open the text document. Each line should be the full path the specific study you want to export for the subject. In the NeuroWorks patient directory folder, start at the oldest study folder by scrolling to the bottom. If multiple folders exist on the same day, hover the mouse over each folder to determine the size (iEEG data is typically ~20-25 gb in size). Once you have determined the right directory, open the directory and find the .eeg file (usually at the top). If you right click on the search bar you can copy the directory path and paste it into the text file. Then copy the filename of the .eeg and add that to the text file as well to complete the path. You can also right click on the file select Properties and copy the full path from the window that opens. In the text document paste the full path to the .eeg file you just copied. You will then need to provide the full path to where the EDF Export Template is for this subject by adding it to the same line. Following the .eeg path, enter a comma and a space followed by the full path to the template: Repeat steps 2-4 for all study dates for the subject. Save the text document and close it.","title":"Create study path text file"},{"location":"getting_started/04_neuroworks_export.html#running-batch-export","text":"Now it is time to run the batch conversion. Click on the Windows start menu and search for Command Prompt . Double click to open a command prompt window. You will now enter the command to perform the conversion, using the information you have previously gathered. Input 1: Type the full path to where you found the EDFExport.exe within quotations: Input 2: Press the spacebar and type -f , followed by another space and the path to where the subject text document is located that you created. Put the path within quotations: Lastly, you need to specify where you want the exported EDFs to go. Create a new folder on your encrypted hard drive for this export and copy the full path to that directory. Input 3: In the command prompt, enter a space after the path for the text document then enter -o and another space followed by the full path to the output directory. Again, ensure you place the path within quotations: In the command prompt window, the function will look like: Once you have entered the full command hit the Enter key to begin conversion. For a 25gb file, the conversion will take ~15mins. Return in a few hours to check on the conversion","title":"Running batch export"},{"location":"getting_started/055_imaging_dir_setup.html","text":"Imaging Data \u00b6 data2bids will anonymize imaging DICOM files if they are present within the input directory. The DICOMs should be within a directory named imaging , which is at the root of the subject directory. Within the imaging directory, there should be a sub-directory for all imaging sessions for the subject. The session sub-directories should contain the DICOM files either compressed or uncompressed. The accepted compression formats include: .tar, .tgz, .tar.gz, .tar.bz2, .zip. The DICOM filenames can be anything, you could also place all the DICOM files for all imaging sequences into one directory. The imaging session folders should be in the format EPL31_LHS_001_<ses_num> , where ses_num is the imaging session number for the imaging data. If the subject only has one session, you still need to include the DICOM files within a session sub-directory. For details on the DICOM header tags that are anonymized see the section below. Example \u00b6 Static \u00b6 input/ \u251c\u2500\u2500 EPL31_LHS_0001/ # Individual subject directory | \u2514\u2500\u2500 imaging/ # Imaging directory for dicoms | \u251c\u2500\u2500 EPL31_LHS_0001_01/ # Imaging sub-directory for each session | | \u251c\u2500\u2500 T1w_scan/ | | | \u251c\u2500\u2500 t1w_file01.dcm | | | \u251c\u2500\u2500 t1w_file02.dcm # optional DICOM directories for each sequence, can be given any name | | | \u2514\u2500\u2500 t1w_file03.dcm | | | | | \u251c\u2500\u2500 T2w_scan/ | | | \u251c\u2500\u2500 t2w_file01.dcm | | | \u251c\u2500\u2500 t2w_file02.dcm | | | \u2514\u2500\u2500 t2w_file03.dcm | | | | | \u2514\u2500\u2500 dwi_scan/ | | \u2514\u2500\u2500 dwi_scan.tar.gz # the DICOM files can be stored in a compressed format (i.e. tar.gz) | | | \u2514\u2500\u2500 EPL31_LHS_0001_02/ | \u251c\u2500\u2500 t1w_scan.tar.gz | \u2514\u2500\u2500 dwi_scan.tar.gz | \u2514\u2500\u2500 EPL31_LHS_0002/ \u2514\u2500\u2500 imaging/ \u2514\u2500\u2500 EPL31_LHS_0002_01/ \u251c\u2500\u2500 t1w_scan_01.dcm \u251c\u2500\u2500 t1w_scan_02.dcm \u251c\u2500\u2500 t1w_scan_03.dcm # you can combine all the DICOM files into one directory \u251c\u2500\u2500 dwi_scan_01.dcm \u251c\u2500\u2500 dwi_scan_02.dcm \u2514\u2500\u2500 dwi_scan_03.dcm Interactive \u00b6 $(document).ready(function() { $.ajax({ url : \"../../assets/imaging_data.json\", dataType: \"text\", success : function (tree) { $('#tree4').bstreeview({ data: tree }); } }); }); Anonymization \u00b6 Certain DICOM viewers and analysis tools require specific DICOM header tags to be present. Complete removal of these tags may render the DICOMS unreadable by these tools. Instead, the DICOM header tags that are deemed an identifier are overwritten by random data. The tool used to perform this action is dicognito . Anonymized DICOM tags Attribute Description AccessionNumber (0008,0050) A RIS generated number that identifies the order for the Study. FillerOrderNumberImagingServiceRequest (0040,2017) The order number assigned to the Imaging Service Request by the party filling the order. InstitutionName (0008,0080) Institution where the equipment that produced the Composite Instances is located. InstitutionAddress (0008,0081) Mailing address of the institution where the equipment that produced the Composite Instances is located. InstitutionalDepartmentName (0008,1040) Department in the institution where the equipment that produced the Composite Instances is located. OtherPatientNames (0010,1001) Other names used to identify the Patient. PatientID (0010,0020) Primary hospital identification number or code for the patient. PerformedProcedureStepID (0040,0253) User or equipment generated identifier of that part of a Procedure that has been carried out within this step. PlacerOrderNumberImagingServiceRequest (0040,2016) The order number assigned to the Imaging Service Request by the party placing the order. RequestedProcedureID (0040,1001) Identifier that identifies the Requested Procedure in the Imaging Service Request. ScheduledProcedureStepID (0040,0009) Identifier that identifies the Scheduled Procedure Step. StationName (0008,1010) User defined name identifying the machine that produced the Composite Instances. StudyID (0020,0010) User or equipment generated Study identifier. Removed DICOM tags Attribute/Tag Description CountryOfResidence (0010,2150) Country in which patient currently resides. Occupation (0010,2180) Occupation of the Patient. PatientAddress (0010,1040) Legal address of the named patient. RegionOfResidence (0010,2152) Region within patient's country of residence.","title":"Imaging Directory Setup"},{"location":"getting_started/055_imaging_dir_setup.html#imaging-data","text":"data2bids will anonymize imaging DICOM files if they are present within the input directory. The DICOMs should be within a directory named imaging , which is at the root of the subject directory. Within the imaging directory, there should be a sub-directory for all imaging sessions for the subject. The session sub-directories should contain the DICOM files either compressed or uncompressed. The accepted compression formats include: .tar, .tgz, .tar.gz, .tar.bz2, .zip. The DICOM filenames can be anything, you could also place all the DICOM files for all imaging sequences into one directory. The imaging session folders should be in the format EPL31_LHS_001_<ses_num> , where ses_num is the imaging session number for the imaging data. If the subject only has one session, you still need to include the DICOM files within a session sub-directory. For details on the DICOM header tags that are anonymized see the section below.","title":"Imaging Data"},{"location":"getting_started/055_imaging_dir_setup.html#example","text":"","title":"Example"},{"location":"getting_started/055_imaging_dir_setup.html#static","text":"input/ \u251c\u2500\u2500 EPL31_LHS_0001/ # Individual subject directory | \u2514\u2500\u2500 imaging/ # Imaging directory for dicoms | \u251c\u2500\u2500 EPL31_LHS_0001_01/ # Imaging sub-directory for each session | | \u251c\u2500\u2500 T1w_scan/ | | | \u251c\u2500\u2500 t1w_file01.dcm | | | \u251c\u2500\u2500 t1w_file02.dcm # optional DICOM directories for each sequence, can be given any name | | | \u2514\u2500\u2500 t1w_file03.dcm | | | | | \u251c\u2500\u2500 T2w_scan/ | | | \u251c\u2500\u2500 t2w_file01.dcm | | | \u251c\u2500\u2500 t2w_file02.dcm | | | \u2514\u2500\u2500 t2w_file03.dcm | | | | | \u2514\u2500\u2500 dwi_scan/ | | \u2514\u2500\u2500 dwi_scan.tar.gz # the DICOM files can be stored in a compressed format (i.e. tar.gz) | | | \u2514\u2500\u2500 EPL31_LHS_0001_02/ | \u251c\u2500\u2500 t1w_scan.tar.gz | \u2514\u2500\u2500 dwi_scan.tar.gz | \u2514\u2500\u2500 EPL31_LHS_0002/ \u2514\u2500\u2500 imaging/ \u2514\u2500\u2500 EPL31_LHS_0002_01/ \u251c\u2500\u2500 t1w_scan_01.dcm \u251c\u2500\u2500 t1w_scan_02.dcm \u251c\u2500\u2500 t1w_scan_03.dcm # you can combine all the DICOM files into one directory \u251c\u2500\u2500 dwi_scan_01.dcm \u251c\u2500\u2500 dwi_scan_02.dcm \u2514\u2500\u2500 dwi_scan_03.dcm","title":"Static"},{"location":"getting_started/055_imaging_dir_setup.html#interactive","text":"$(document).ready(function() { $.ajax({ url : \"../../assets/imaging_data.json\", dataType: \"text\", success : function (tree) { $('#tree4').bstreeview({ data: tree }); } }); });","title":"Interactive"},{"location":"getting_started/055_imaging_dir_setup.html#anonymization","text":"Certain DICOM viewers and analysis tools require specific DICOM header tags to be present. Complete removal of these tags may render the DICOMS unreadable by these tools. Instead, the DICOM header tags that are deemed an identifier are overwritten by random data. The tool used to perform this action is dicognito . Anonymized DICOM tags Attribute Description AccessionNumber (0008,0050) A RIS generated number that identifies the order for the Study. FillerOrderNumberImagingServiceRequest (0040,2017) The order number assigned to the Imaging Service Request by the party filling the order. InstitutionName (0008,0080) Institution where the equipment that produced the Composite Instances is located. InstitutionAddress (0008,0081) Mailing address of the institution where the equipment that produced the Composite Instances is located. InstitutionalDepartmentName (0008,1040) Department in the institution where the equipment that produced the Composite Instances is located. OtherPatientNames (0010,1001) Other names used to identify the Patient. PatientID (0010,0020) Primary hospital identification number or code for the patient. PerformedProcedureStepID (0040,0253) User or equipment generated identifier of that part of a Procedure that has been carried out within this step. PlacerOrderNumberImagingServiceRequest (0040,2016) The order number assigned to the Imaging Service Request by the party placing the order. RequestedProcedureID (0040,1001) Identifier that identifies the Requested Procedure in the Imaging Service Request. ScheduledProcedureStepID (0040,0009) Identifier that identifies the Scheduled Procedure Step. StationName (0008,1010) User defined name identifying the machine that produced the Composite Instances. StudyID (0020,0010) User or equipment generated Study identifier. Removed DICOM tags Attribute/Tag Description CountryOfResidence (0010,2150) Country in which patient currently resides. Occupation (0010,2180) Occupation of the Patient. PatientAddress (0010,1040) Legal address of the named patient. RegionOfResidence (0010,2152) Region within patient's country of residence.","title":"Anonymization"},{"location":"getting_started/05_input_dir_setup.html","text":"This section outlines how the data should be organized prior to running the data2bids software. The data files should be in EDF/EDF+ format following the specifications provided by the EDF format developers. Setup a working directory is a recommended way to organize your working directory of data (this is optional but highly recommended). Note At this moment the names of the EDF/EDF+ files are not yet BIDS compliant, but they do contain some metadata in the filename that will be used later. Setup a working directory \u00b6 It is recommended that you establish a working directory to ensure your data remains organized. The optimal setup would be one with the following five directories: unorganized : this directory holds unorganized subject data ready to be organized for data2bids organized : this directory holds organized subject data ready to be organized for data2bids (according to either option below) input : this directory holds subject data ready to be converted with data2bids output : this directory holds the output converted data from data2bids complete : this directory holds the fully converted data from the output directory (which needs to be empty every time a new conversion is occurring) Warning When beginning a conversion with data2bids ensure the output directory is empty and the input directory only contains the subject folders you wish to convert. Static example \u00b6 working_dir/ \u251c\u2500\u2500 unorganized/ \u251c\u2500\u2500 organized/ \u251c\u2500\u2500 input/ \u251c\u2500\u2500 output/ \u2514\u2500\u2500 complete/ Interactive example \u00b6 $(document).ready(function() { $.ajax({ url : \"../../assets/working_dir.json\", dataType: \"text\", success : function (tree) { $('#tree').bstreeview({ data: tree }); } }); }); Input directory \u00b6 If you do not require a specific naming convention for visits and sessions then Option 01: Do not specify visit/session number should be followed. In this option, the visit and session number are not supplied to the data2bids software and instead are automatically determined based on the date/time of the EDF/EDF+ acquisition. For the EpLink study , you should follow Option 02: Specify visit/session number . Option 01: Do not specify visit/session number \u00b6 If you do not need to specify the visit or session number for each EDF file for the subjects, then this option will assign session numbers based on the Date timestamp within the EDF files. So the earliest EDF file will be given ses-001 while the latest EDF file will be given ses-### (### will be equal to the number of EDF files for that subject). Input directory The input directory ( input ) should contain a sub-directory for each of the subjects you want to have converted (i.e. input\\sub-001 , input\\sub-002 etc.). Within the data2bids software you select input as the input directory and not the individual subject directories Definition of terms for a complete list of terms see the definitions page Static example \u00b6 input/ \u251c\u2500\u2500 <sub_num>/ # Individual subject directory \u2502 \u251c\u2500\u2500 X~X_432a35cf-adg25-462-24aa-325db4e5e2d3.edf # Individual EDF files \u2502 \u2514\u2500\u2500 X~Xe_7d22151a-ac455-3adc312b-426aae3251ac.edf \u2502 \u2514\u2500\u2500 <sub_num>/ # Individual subject directory \u251c\u2500\u2500 X_ X_35a1ed7a-7764-4cb0-8571-51026e3dbef4.edf # Individual EDF files \u2514\u2500\u2500 X_X_e515c5ac-6301-4acd-8a69-fb208d5fd097.edf Interactive example \u00b6 $(document).ready(function() { $.ajax({ url : \"../../assets/no_ses_visit.json\", dataType: \"text\", success : function (tree) { $('#tree2').bstreeview({ data: tree }); } }); }); Option 02: Specify visit/session number \u00b6 In some instances you may want to manually assign the specific visit or session numbers for the EDF files. In this scenario you would need to place each EDF file into a directory with the following naming scheme: <sub_num>_<visit_num>_<ses_num>_<type>_<task>_ [ RET ] Definition of terms for a complete list of terms see the definitions page sub-003_02_SE01_IEEG_FULL_RET A folder with the above naming scheme would indicate this is subject 3's second visit and first session. The data collected was a full IEEG recording that was retrospective (recorded prior to the subject consent). Input directory The input directory ( input ) should contain a sub-directory for each of the subjects you want to have converted (i.e. input\\sub-001 , input\\sub-002 etc.). Within the data2bids software you select input as the input directory and not the individual subject directories Each day of recording should be in a separate folder within the subject directory: Static example \u00b6 input/ \u251c\u2500\u2500 <sub_num>/ # Individual subject directory \u2502 \u2502 \u2502 \u251c\u2500\u2500 <sub_num>_<visit_num>_<ses_num>_<type>_<task>_ [ RET ] / # Specify visit, session, type, and task \u2502 \u2502 \u2502 \u2502 \u2502 \u251c\u2500\u2500 X~X_432a35cf-adg25-462-24aa-325db4e5e2d3.edf # Individual EDF files \u2502 \u2502 \u2514\u2500\u2500 X~Xe_7d22151a-ac455-3adc312b-426aae3251ac.edf # Individual EDF files \u2502 \u2502 \u2502 \u2514\u2500\u2500 <sub_num>_<visit_num>_<ses_num>_<type>_<task>_ [ RET ] / # Specify visit, session, type, and task \u2502 \u2502 \u2502 \u2514\u2500\u2500 X~X_432a35cf-adg25-462-24aa-325db4e5e2d3.edf # Individual EDF files \u2502 \u2514\u2500\u2500 <sub_num>/ # Individual subject directory \u2502 \u2514\u2500\u2500 <sub_num>_<visit_num>_<ses_num>_<type>_<task>_ [ RET ] / # Specify visit, session, type, and task \u2502 \u251c\u2500\u2500 X~X_432a35cf-adg25-462-24aa-325db4e5e2d3.edf # Individual EDF files \u2514\u2500\u2500 LastName~ FirstName_7d22151a-ac455-3adc312b-426aae3251ac.edf # You can include the subject first/last name to be used when de-identifying the data Interactive example \u00b6 $(document).ready(function() { $.ajax({ url : \"../../assets/specify_ses_visit.json\", dataType: \"text\", success : function (tree) { $('#tree3').bstreeview({ data: tree }); } }); }); Channel labels \u00b6 For recordings where patient specific channel labels are defined, a channel labels text file should be created that dictates how the labels should appear within the EDF file. For instance, EEG recordings commonly make use of the 10-20 setup, which means the channel labels do not change between patients. However, in iEEG recordings, channels labels are unique to the patient depending on where the depth electrodes were implanted. To ensure the EDF file has the correct channel labels, you should create a text file called \"*_channel_labels.txt\", where * indicates any string can be placed there but the file name needs to end with channel_labels.txt (i.e. sub-001_channel_labels.txt, EPL31_LHS_0001_channel_labels.txt). When creating the channel labels file you do not need to include default NeuroWorks channels, such as: Patient Event TRIG OSAT PR Pleth EDF Annotations You only need to provide channels with unique names for the specific patient, for instance: LAHc1 RAm1 The implanted depth electrodes each have several contacts on them to record from. So the contacts on the electrode are numbered, such as: 10 contact electrode LAHc: LAHc1, LAHc2, LAHc3, LAHc4, LAHc5, LAHc6, LAHc7, LAHc8, LAHc9, LAHc10 When creating the channel labels file, it is easiest to use Excel or Libreoffice. The first column should contain C1 to Cn, where n is the total number of iEEG channels used in the recording. Next to each channel number, place the corresponding electrode contacts name. Example _channel_labels.txt file C1 LOFr1 C2 LOFr2 C3 LOFr3 C4 LOFr4 C5 LOFr5 C6 LOFr6 C7 LOFr7 C8 LOFr8 C9 LOFr9 C10 LOFr10 C11 LCg1 C12 LCg2 C13 LCg3 C14 LCg4 C15 LCg5 C16 LCg6 C17 LCg7 C18 LCg8 C19 LCg9 C20 LCg10 C21 LAm1 C22 LAm2 C23 LAm3 C24 LAm6 C25 LAm7 C26 LAm8 C27 LAm9 C28 LAm10 C29 LAHc1 C30 LAHc2 C31 LAHc3 C32 LAHc6 C33 LAHc7 C34 LAHc8 C35 LAHc9 C36 LAHc10","title":"Input Directory Setup"},{"location":"getting_started/05_input_dir_setup.html#setup-a-working-directory","text":"It is recommended that you establish a working directory to ensure your data remains organized. The optimal setup would be one with the following five directories: unorganized : this directory holds unorganized subject data ready to be organized for data2bids organized : this directory holds organized subject data ready to be organized for data2bids (according to either option below) input : this directory holds subject data ready to be converted with data2bids output : this directory holds the output converted data from data2bids complete : this directory holds the fully converted data from the output directory (which needs to be empty every time a new conversion is occurring) Warning When beginning a conversion with data2bids ensure the output directory is empty and the input directory only contains the subject folders you wish to convert.","title":"Setup a working directory"},{"location":"getting_started/05_input_dir_setup.html#static-example","text":"working_dir/ \u251c\u2500\u2500 unorganized/ \u251c\u2500\u2500 organized/ \u251c\u2500\u2500 input/ \u251c\u2500\u2500 output/ \u2514\u2500\u2500 complete/","title":"Static example"},{"location":"getting_started/05_input_dir_setup.html#interactive-example","text":"$(document).ready(function() { $.ajax({ url : \"../../assets/working_dir.json\", dataType: \"text\", success : function (tree) { $('#tree').bstreeview({ data: tree }); } }); });","title":"Interactive example"},{"location":"getting_started/05_input_dir_setup.html#input-directory","text":"If you do not require a specific naming convention for visits and sessions then Option 01: Do not specify visit/session number should be followed. In this option, the visit and session number are not supplied to the data2bids software and instead are automatically determined based on the date/time of the EDF/EDF+ acquisition. For the EpLink study , you should follow Option 02: Specify visit/session number .","title":"Input directory"},{"location":"getting_started/05_input_dir_setup.html#option-01-do-not-specify-visitsession-number","text":"If you do not need to specify the visit or session number for each EDF file for the subjects, then this option will assign session numbers based on the Date timestamp within the EDF files. So the earliest EDF file will be given ses-001 while the latest EDF file will be given ses-### (### will be equal to the number of EDF files for that subject). Input directory The input directory ( input ) should contain a sub-directory for each of the subjects you want to have converted (i.e. input\\sub-001 , input\\sub-002 etc.). Within the data2bids software you select input as the input directory and not the individual subject directories Definition of terms for a complete list of terms see the definitions page","title":"Option 01: Do not specify visit/session number"},{"location":"getting_started/05_input_dir_setup.html#static-example_1","text":"input/ \u251c\u2500\u2500 <sub_num>/ # Individual subject directory \u2502 \u251c\u2500\u2500 X~X_432a35cf-adg25-462-24aa-325db4e5e2d3.edf # Individual EDF files \u2502 \u2514\u2500\u2500 X~Xe_7d22151a-ac455-3adc312b-426aae3251ac.edf \u2502 \u2514\u2500\u2500 <sub_num>/ # Individual subject directory \u251c\u2500\u2500 X_ X_35a1ed7a-7764-4cb0-8571-51026e3dbef4.edf # Individual EDF files \u2514\u2500\u2500 X_X_e515c5ac-6301-4acd-8a69-fb208d5fd097.edf","title":"Static example"},{"location":"getting_started/05_input_dir_setup.html#interactive-example_1","text":"$(document).ready(function() { $.ajax({ url : \"../../assets/no_ses_visit.json\", dataType: \"text\", success : function (tree) { $('#tree2').bstreeview({ data: tree }); } }); });","title":"Interactive example"},{"location":"getting_started/05_input_dir_setup.html#option-02-specify-visitsession-number","text":"In some instances you may want to manually assign the specific visit or session numbers for the EDF files. In this scenario you would need to place each EDF file into a directory with the following naming scheme: <sub_num>_<visit_num>_<ses_num>_<type>_<task>_ [ RET ] Definition of terms for a complete list of terms see the definitions page sub-003_02_SE01_IEEG_FULL_RET A folder with the above naming scheme would indicate this is subject 3's second visit and first session. The data collected was a full IEEG recording that was retrospective (recorded prior to the subject consent). Input directory The input directory ( input ) should contain a sub-directory for each of the subjects you want to have converted (i.e. input\\sub-001 , input\\sub-002 etc.). Within the data2bids software you select input as the input directory and not the individual subject directories Each day of recording should be in a separate folder within the subject directory:","title":"Option 02: Specify visit/session number"},{"location":"getting_started/05_input_dir_setup.html#static-example_2","text":"input/ \u251c\u2500\u2500 <sub_num>/ # Individual subject directory \u2502 \u2502 \u2502 \u251c\u2500\u2500 <sub_num>_<visit_num>_<ses_num>_<type>_<task>_ [ RET ] / # Specify visit, session, type, and task \u2502 \u2502 \u2502 \u2502 \u2502 \u251c\u2500\u2500 X~X_432a35cf-adg25-462-24aa-325db4e5e2d3.edf # Individual EDF files \u2502 \u2502 \u2514\u2500\u2500 X~Xe_7d22151a-ac455-3adc312b-426aae3251ac.edf # Individual EDF files \u2502 \u2502 \u2502 \u2514\u2500\u2500 <sub_num>_<visit_num>_<ses_num>_<type>_<task>_ [ RET ] / # Specify visit, session, type, and task \u2502 \u2502 \u2502 \u2514\u2500\u2500 X~X_432a35cf-adg25-462-24aa-325db4e5e2d3.edf # Individual EDF files \u2502 \u2514\u2500\u2500 <sub_num>/ # Individual subject directory \u2502 \u2514\u2500\u2500 <sub_num>_<visit_num>_<ses_num>_<type>_<task>_ [ RET ] / # Specify visit, session, type, and task \u2502 \u251c\u2500\u2500 X~X_432a35cf-adg25-462-24aa-325db4e5e2d3.edf # Individual EDF files \u2514\u2500\u2500 LastName~ FirstName_7d22151a-ac455-3adc312b-426aae3251ac.edf # You can include the subject first/last name to be used when de-identifying the data","title":"Static example"},{"location":"getting_started/05_input_dir_setup.html#interactive-example_2","text":"$(document).ready(function() { $.ajax({ url : \"../../assets/specify_ses_visit.json\", dataType: \"text\", success : function (tree) { $('#tree3').bstreeview({ data: tree }); } }); });","title":"Interactive example"},{"location":"getting_started/05_input_dir_setup.html#channel-labels","text":"For recordings where patient specific channel labels are defined, a channel labels text file should be created that dictates how the labels should appear within the EDF file. For instance, EEG recordings commonly make use of the 10-20 setup, which means the channel labels do not change between patients. However, in iEEG recordings, channels labels are unique to the patient depending on where the depth electrodes were implanted. To ensure the EDF file has the correct channel labels, you should create a text file called \"*_channel_labels.txt\", where * indicates any string can be placed there but the file name needs to end with channel_labels.txt (i.e. sub-001_channel_labels.txt, EPL31_LHS_0001_channel_labels.txt). When creating the channel labels file you do not need to include default NeuroWorks channels, such as: Patient Event TRIG OSAT PR Pleth EDF Annotations You only need to provide channels with unique names for the specific patient, for instance: LAHc1 RAm1 The implanted depth electrodes each have several contacts on them to record from. So the contacts on the electrode are numbered, such as: 10 contact electrode LAHc: LAHc1, LAHc2, LAHc3, LAHc4, LAHc5, LAHc6, LAHc7, LAHc8, LAHc9, LAHc10 When creating the channel labels file, it is easiest to use Excel or Libreoffice. The first column should contain C1 to Cn, where n is the total number of iEEG channels used in the recording. Next to each channel number, place the corresponding electrode contacts name. Example _channel_labels.txt file C1 LOFr1 C2 LOFr2 C3 LOFr3 C4 LOFr4 C5 LOFr5 C6 LOFr6 C7 LOFr7 C8 LOFr8 C9 LOFr9 C10 LOFr10 C11 LCg1 C12 LCg2 C13 LCg3 C14 LCg4 C15 LCg5 C16 LCg6 C17 LCg7 C18 LCg8 C19 LCg9 C20 LCg10 C21 LAm1 C22 LAm2 C23 LAm3 C24 LAm6 C25 LAm7 C26 LAm8 C27 LAm9 C28 LAm10 C29 LAHc1 C30 LAHc2 C31 LAHc3 C32 LAHc6 C33 LAHc7 C34 LAHc8 C35 LAHc9 C36 LAHc10","title":"Channel labels"},{"location":"getting_started/06_check_edf_type.html","text":"Detailed EDF format description for a detailed explanation of the EDF format see the description page EDF Type Overview \u00b6 Only EDF+ files can be stored in either a continuous (EDF+C) or discontinuous (EDF+D) format, while EDF files can only be continuous. A discontinuity within the EDF+ file would occur when the recording is stopped and subsequently started again, resulting in a lapse in recording time. There are two ways to account for the missing data during the non-recording period: Continuous: to keep the timeline in the file continuous, the data record during the non-recording time can be filled with zeros. This would maintain the timeline within the file. Discontinuous: ignore the time the recording stopped and \"Glue\" the different recording sessions together. This creates a jump in the timeline of the EDF+ file. For most applications, the EDF+ file will need to be in EDF+C format. The majority of softwares and analysis tools require this. Convert EDF Type \u00b6 You need to ensure all EDF+ files are in continuous format (EDF+C). This is easy to check within data2bids . Ensure your input directory has been organized prior to opening within data2bids . Within data2bids select the input directory and check the EDF Type column. You should flag any file that is in EDF+D format. Once you have identified the files that are in EDF+D format, open EDFBrowser , select Tools at the top and Convert EDF+D to EDF+C . A dialog box will open allowing you to select one of the identified files that is in EDF+D format, select one file. Once conversion is complete you will notice the original file remains but now there are several smaller files with a 4 digit suffix accounting for the number of times the recording was stopped/started.","title":"Check EDF Type"},{"location":"getting_started/06_check_edf_type.html#edf-type-overview","text":"Only EDF+ files can be stored in either a continuous (EDF+C) or discontinuous (EDF+D) format, while EDF files can only be continuous. A discontinuity within the EDF+ file would occur when the recording is stopped and subsequently started again, resulting in a lapse in recording time. There are two ways to account for the missing data during the non-recording period: Continuous: to keep the timeline in the file continuous, the data record during the non-recording time can be filled with zeros. This would maintain the timeline within the file. Discontinuous: ignore the time the recording stopped and \"Glue\" the different recording sessions together. This creates a jump in the timeline of the EDF+ file. For most applications, the EDF+ file will need to be in EDF+C format. The majority of softwares and analysis tools require this.","title":"EDF Type Overview"},{"location":"getting_started/06_check_edf_type.html#convert-edf-type","text":"You need to ensure all EDF+ files are in continuous format (EDF+C). This is easy to check within data2bids . Ensure your input directory has been organized prior to opening within data2bids . Within data2bids select the input directory and check the EDF Type column. You should flag any file that is in EDF+D format. Once you have identified the files that are in EDF+D format, open EDFBrowser , select Tools at the top and Convert EDF+D to EDF+C . A dialog box will open allowing you to select one of the identified files that is in EDF+D format, select one file. Once conversion is complete you will notice the original file remains but now there are several smaller files with a 4 digit suffix accounting for the number of times the recording was stopped/started.","title":"Convert EDF Type"},{"location":"getting_started/07_run_conversion.html","text":"Input directory selection \u00b6 The input directory selected here should be organized according to the first section in this documentation. Prior to loading the data, make sure all the settings in the settings panel have been configured to your specification (found at the bottom left of the main window). In the software, select Input Directory and choose the directory that contains the data to be converted (select the main/root directory that contains all subject directories). Click Select Folder in the window and the data will load into the Input Directory window. You will now be able to review the information that was detected about the input files. Each subject is expandable by clicking the box beside the subject name. The columns displayed are: Definition of columns for a complete list of column explanations see the definitions page Output directory selection \u00b6 Once you have confirmed the input data is correct, click Output Directory and select the directory you want the BIDS dataset to appear. The Output Directory window will now present the final output file information (prior to conversion). This is the final check to ensure that any changes have been updated. Note EDF/EDF+ files in the Input Directory will be COPIED to the new location and will be renamed to be BIDS compliant. Thus, you will have two copies of the EDF/EDF+ files. This is a safety measure in case an error occurs in the conversion, the source data will remain intact. If you are converting data for a participant that already has recordings in the output folder, the check boxes for those recordings will appear checked in the Output Directory window. Dry-run prior to conversion \u00b6 It is recommended that you dry-run the conversion. This ensures the input directory is set-up correctly and that the EDF files are properly formatted. During annotation extract, the EDF file format is checked using EDFBrowser libraries. Since copying the EDF file to the output directory is the most time intensive aspect, you are able to run annotation extraction (with file checking) as a separate dry-run. If an error is found within an EDF file, you will see a message similar to this: You should scroll upwards to find the last session that was being converted, prior to the error, and remove it from the input directory: Convert to BIDs \u00b6 Once you have confirmed the Output Directory file information is correct press the green Convert button. During the conversion process you can cancel the conversion at any time by pressing the Cancel button. However, if you cancel the conversion you will need to delete the contents of the output directory and start over. You will receive updates in the Conversion Status window. The final notice, once the conversion is complete, will show Your data has been BIDsified! . Convert to SPReD (EpLink) \u00b6 Note files will be moved from the BIDS structure to SPReD structure (the BIDs format will be destroyed) The format required to upload the Brain-CODE is different from BIDS. This conversion step will provide a SPReD compliant format output. Following successful conversion to BIDS, a new button in the main window will become active named SPReD . Press the SPReD button and wait for the conversion to complete. Imaging Anonymization \u00b6 If an imaging directory was supplied in the input directory then the blue imaging button will be active. Following conversion to BIDS/SPReD, press the blue button named Imaging . Wait for the conversion to complete.","title":"Run Conversion"},{"location":"getting_started/07_run_conversion.html#input-directory-selection","text":"The input directory selected here should be organized according to the first section in this documentation. Prior to loading the data, make sure all the settings in the settings panel have been configured to your specification (found at the bottom left of the main window). In the software, select Input Directory and choose the directory that contains the data to be converted (select the main/root directory that contains all subject directories). Click Select Folder in the window and the data will load into the Input Directory window. You will now be able to review the information that was detected about the input files. Each subject is expandable by clicking the box beside the subject name. The columns displayed are: Definition of columns for a complete list of column explanations see the definitions page","title":"Input directory selection"},{"location":"getting_started/07_run_conversion.html#output-directory-selection","text":"Once you have confirmed the input data is correct, click Output Directory and select the directory you want the BIDS dataset to appear. The Output Directory window will now present the final output file information (prior to conversion). This is the final check to ensure that any changes have been updated. Note EDF/EDF+ files in the Input Directory will be COPIED to the new location and will be renamed to be BIDS compliant. Thus, you will have two copies of the EDF/EDF+ files. This is a safety measure in case an error occurs in the conversion, the source data will remain intact. If you are converting data for a participant that already has recordings in the output folder, the check boxes for those recordings will appear checked in the Output Directory window.","title":"Output directory selection"},{"location":"getting_started/07_run_conversion.html#dry-run-prior-to-conversion","text":"It is recommended that you dry-run the conversion. This ensures the input directory is set-up correctly and that the EDF files are properly formatted. During annotation extract, the EDF file format is checked using EDFBrowser libraries. Since copying the EDF file to the output directory is the most time intensive aspect, you are able to run annotation extraction (with file checking) as a separate dry-run. If an error is found within an EDF file, you will see a message similar to this: You should scroll upwards to find the last session that was being converted, prior to the error, and remove it from the input directory:","title":"Dry-run prior to conversion"},{"location":"getting_started/07_run_conversion.html#convert-to-bids","text":"Once you have confirmed the Output Directory file information is correct press the green Convert button. During the conversion process you can cancel the conversion at any time by pressing the Cancel button. However, if you cancel the conversion you will need to delete the contents of the output directory and start over. You will receive updates in the Conversion Status window. The final notice, once the conversion is complete, will show Your data has been BIDsified! .","title":"Convert to BIDs"},{"location":"getting_started/07_run_conversion.html#convert-to-spred-eplink","text":"Note files will be moved from the BIDS structure to SPReD structure (the BIDs format will be destroyed) The format required to upload the Brain-CODE is different from BIDS. This conversion step will provide a SPReD compliant format output. Following successful conversion to BIDS, a new button in the main window will become active named SPReD . Press the SPReD button and wait for the conversion to complete.","title":"Convert to SPReD (EpLink)"},{"location":"getting_started/07_run_conversion.html#imaging-anonymization","text":"If an imaging directory was supplied in the input directory then the blue imaging button will be active. Following conversion to BIDS/SPReD, press the blue button named Imaging . Wait for the conversion to complete.","title":"Imaging Anonymization"},{"location":"getting_started/08_output_structure.html","text":"BIDS directory structure \u00b6 The output directory will look like the following (each subject having their own directory): code: this directory will contain the code used to convert the EDF/EDF+ data for each EDF/EDF+ file for the subjects. dataset_description.json: this file will contain the Json Metadata previously defined in the Settings menu. This is overall information about the dataset participants.tsv: this file contains a list of all the subjects in the dataset and their general demographics (i.e. age, sex etc.). This file can also be used to store additional subject information that is not variable over the different visits and sessions. Electrodes vs. channels \u00b6 It is important to understand the difference between the terms electrode and channel . An iEEG electrode is placed on or in the brain, whereas a channel is the combination of the analog differential amplifier and analog-to-digital converter that result in a potential (voltage) difference that is stored in the EEG/iEEG dataset. Electrode: a single point of contact between the acquisition system and the recording site. Multiple electrodes can be organized as arrays, grids, leads, strips, probes, shafts, caps (for EEG) etc. Channel: a single analog-to-digital converter in the recording system that regularly samples the value of a transducer, which results in the signal being represented as a time series in the digitized data. This can be connected to two electrodes (to measure the potential difference between them), a magnetic field or magnetic gradient sensor, temperature sensor, accelerometer etc. Subject directory \u00b6 Within each subject directory there will be a different session sub-directory for each day of recording. *_scans.tsv \u00b6 The *_scans.tsv file contains general information about each EDF file for the subject (i.e. filename, recording duration, EDF+ type etc.). Example content of the *_scans.tsv file. filename: relative filename for each EDF/EDF+ file. acq_time: the date and time the recording was started in the format YYYY-MM-DDTHH:MM:SS (note: the T is used to separate the date from time) duration: the total duration of the EDF/EDF+ file in decimal hours edf_type: indicates the EDF type for the file, either continuous (EDF+C) or discontinuous (EDF+D) Session directory \u00b6 Within each session sub-directory there will be a modality sub-directory (either eeg/ieeg). Within the modality sub-directory there will be five files, containing different information associated with the specific EDF/EDF+ file. *_electrodes.tsv \u00b6 The *_electrodes.tsv file contains information associated with the electrodes used to collect the data. Example content of the *_electrodes.tsv file. name: label given to the specific channel during the recording. x,y,z: the coordinates in MRI space for the specific electrode contact. size: the diameter of the recording electrode in millimeters type: the electrode type (i.e. depth, scalp etc.) material: the electrode material. manufacturer: the manufacturer of the electrode. *_channels.tsv \u00b6 The *_channels.tsv file contains information about each channel that was used in the recording. Example content of the *_channels.tsv file. name: label of the specific channel. type: type of channel (i.e. SEEG,EEG, DBS, EOG, ECG etc.) units: physical unit of the value represented in this channel (i.e. V for Volt) low_cutoff: frequency used for the low pass filter applied to the channel in Hz (note: if no low pass filter was applied, n/a is used). high_cutoff: frequency used for the high pass filter applied to the channel in Hz (note: if no high pass filter was applied, n/a is used). sampling_frequency: sampling rate of the channel in Hz. notch: frequency used for the notch filter applied to the channel in Hz (note: if no notch filter was applied, n/a is used). reference: label for the reference (i.e. 'mastoid', 'ElectrodeName01', 'intracranial' etc.). If the channel is not known then n/a is used. group: which group of channels (grid/strip/seeg/depth) this channel belongs to. This is relevant because one group has one cable-bundle and noise can be shared. *_annotations.tsv \u00b6 The *_annotations.tsv file contains all annotations present in the EDF+ file, identifiers have been scrubbed. Example content of the *_annotations.tsv file. onset: the time the event occurred, relative to the time the recording began. duration: the duration of the marked event (-1 indicates no duration, which is default for all events). time_abs: the absolute time for the event (real world time). time_rel: the relative time for the event (time elapsed since the beginning of the recording). event: the event marker text. *_eeg.json or *_ieeg.json \u00b6 The *_eeg.json/*_ieeg.json file contains metadata information about the EDF/EDF+ file. Example content of the *_eeg.json or *_ieeg.json file. TaskName: name of the task, no two tasks should have the same name (i.e. full for a full 24hr recording, clip if the data has been clipped by the neurologist etc.) InstitutionName: name of the institution in charge of the equipment that produced the composite instances. InstitutionAddress: address of the institution in charge of the equipment that produced the composite instances. Manufacturer: manufacturer of the amplifier system. ManufacturersModelName: manufacturer's designation of the EEG/iEEG amplifier model. SamplingFrequency: sampling frequency (in Hz) of all the EEG/iEEG channels in the recording HardwareFilters: the frequencies of the temporal hardware filters applied, if none exist then n/a is used. SoftwareFilters: the frequencies of the temporal software filters applied, if none exist then n/a is used. *ChannelCount: number of the respective channels included in the recording (i.e. EEG, EOG, ECG, SEEG etc.) PowerLineFrequency: frequency (in Hz) of the power grid where the EEG/iEEG recording was done (for example, 50 or 60). RecordingDuration: length of the recording in decimal hours. RecordingType: defines whether the recording is continuous , discontinuous or epoched , where epoched is limited to time windows about events of interest. SubjectArtefactDescription: freeform description of the observed subject artifact and its possible cause (i.e. \"door open\", \"nurse walked into room at 2 min\", \"seizure at 10 min\"). iEEGPlacementScheme: freeform description of the placement of the EEG/iEEG electrodes. iEEGElectrodeGroups: field to describe the way electrodes are grouped into strips, grids or depth probes. iEEGReference: general description of the reference scheme used and (when applicable) of location of the reference electrode in the raw recordings (i.e. \"left mastoid\", \"bipolar\"). ElectrodeManufacturer: manufacturer for the electrodes used during the recording (i.e. AD-TECH, DIXI) ElectricalStimulationParameters: free form description of stimulation parameters, such as frequency or shape. *_eeg.edf or *_ieeg.edf \u00b6 The *_eeg.edf/*_ieeg.edf contains the raw electrophysiology data. Example Structure \u00b6 Interactive \u00b6 $(document).ready(function() { $.ajax({ url : \"../../assets/bids_dir.json\", dataType: \"text\", success : function (tree) { $('#tree').bstreeview({ data: tree }); } }); }); SPReD directory structure \u00b6 When the SPReD conversion is completed a new sub-directory will be created in the output directory. All unused BIDS files will be transferred to the bids_old sub-directory, while all the SPReD files will be moved to the SPReD sub-directory. Within each sub-directory of the .zip folders the same files from the BIDS output will be found: You will be uploading the .zip directories to Brain-CODE.","title":"Output Directory Structure"},{"location":"getting_started/08_output_structure.html#bids-directory-structure","text":"The output directory will look like the following (each subject having their own directory): code: this directory will contain the code used to convert the EDF/EDF+ data for each EDF/EDF+ file for the subjects. dataset_description.json: this file will contain the Json Metadata previously defined in the Settings menu. This is overall information about the dataset participants.tsv: this file contains a list of all the subjects in the dataset and their general demographics (i.e. age, sex etc.). This file can also be used to store additional subject information that is not variable over the different visits and sessions.","title":"BIDS directory structure"},{"location":"getting_started/08_output_structure.html#electrodes-vs-channels","text":"It is important to understand the difference between the terms electrode and channel . An iEEG electrode is placed on or in the brain, whereas a channel is the combination of the analog differential amplifier and analog-to-digital converter that result in a potential (voltage) difference that is stored in the EEG/iEEG dataset. Electrode: a single point of contact between the acquisition system and the recording site. Multiple electrodes can be organized as arrays, grids, leads, strips, probes, shafts, caps (for EEG) etc. Channel: a single analog-to-digital converter in the recording system that regularly samples the value of a transducer, which results in the signal being represented as a time series in the digitized data. This can be connected to two electrodes (to measure the potential difference between them), a magnetic field or magnetic gradient sensor, temperature sensor, accelerometer etc.","title":"Electrodes vs. channels"},{"location":"getting_started/08_output_structure.html#subject-directory","text":"Within each subject directory there will be a different session sub-directory for each day of recording.","title":"Subject directory"},{"location":"getting_started/08_output_structure.html#_scanstsv","text":"The *_scans.tsv file contains general information about each EDF file for the subject (i.e. filename, recording duration, EDF+ type etc.). Example content of the *_scans.tsv file. filename: relative filename for each EDF/EDF+ file. acq_time: the date and time the recording was started in the format YYYY-MM-DDTHH:MM:SS (note: the T is used to separate the date from time) duration: the total duration of the EDF/EDF+ file in decimal hours edf_type: indicates the EDF type for the file, either continuous (EDF+C) or discontinuous (EDF+D)","title":"*_scans.tsv"},{"location":"getting_started/08_output_structure.html#session-directory","text":"Within each session sub-directory there will be a modality sub-directory (either eeg/ieeg). Within the modality sub-directory there will be five files, containing different information associated with the specific EDF/EDF+ file.","title":"Session directory"},{"location":"getting_started/08_output_structure.html#_electrodestsv","text":"The *_electrodes.tsv file contains information associated with the electrodes used to collect the data. Example content of the *_electrodes.tsv file. name: label given to the specific channel during the recording. x,y,z: the coordinates in MRI space for the specific electrode contact. size: the diameter of the recording electrode in millimeters type: the electrode type (i.e. depth, scalp etc.) material: the electrode material. manufacturer: the manufacturer of the electrode.","title":"*_electrodes.tsv"},{"location":"getting_started/08_output_structure.html#_channelstsv","text":"The *_channels.tsv file contains information about each channel that was used in the recording. Example content of the *_channels.tsv file. name: label of the specific channel. type: type of channel (i.e. SEEG,EEG, DBS, EOG, ECG etc.) units: physical unit of the value represented in this channel (i.e. V for Volt) low_cutoff: frequency used for the low pass filter applied to the channel in Hz (note: if no low pass filter was applied, n/a is used). high_cutoff: frequency used for the high pass filter applied to the channel in Hz (note: if no high pass filter was applied, n/a is used). sampling_frequency: sampling rate of the channel in Hz. notch: frequency used for the notch filter applied to the channel in Hz (note: if no notch filter was applied, n/a is used). reference: label for the reference (i.e. 'mastoid', 'ElectrodeName01', 'intracranial' etc.). If the channel is not known then n/a is used. group: which group of channels (grid/strip/seeg/depth) this channel belongs to. This is relevant because one group has one cable-bundle and noise can be shared.","title":"*_channels.tsv"},{"location":"getting_started/08_output_structure.html#_annotationstsv","text":"The *_annotations.tsv file contains all annotations present in the EDF+ file, identifiers have been scrubbed. Example content of the *_annotations.tsv file. onset: the time the event occurred, relative to the time the recording began. duration: the duration of the marked event (-1 indicates no duration, which is default for all events). time_abs: the absolute time for the event (real world time). time_rel: the relative time for the event (time elapsed since the beginning of the recording). event: the event marker text.","title":"*_annotations.tsv"},{"location":"getting_started/08_output_structure.html#_eegjson-or-_ieegjson","text":"The *_eeg.json/*_ieeg.json file contains metadata information about the EDF/EDF+ file. Example content of the *_eeg.json or *_ieeg.json file. TaskName: name of the task, no two tasks should have the same name (i.e. full for a full 24hr recording, clip if the data has been clipped by the neurologist etc.) InstitutionName: name of the institution in charge of the equipment that produced the composite instances. InstitutionAddress: address of the institution in charge of the equipment that produced the composite instances. Manufacturer: manufacturer of the amplifier system. ManufacturersModelName: manufacturer's designation of the EEG/iEEG amplifier model. SamplingFrequency: sampling frequency (in Hz) of all the EEG/iEEG channels in the recording HardwareFilters: the frequencies of the temporal hardware filters applied, if none exist then n/a is used. SoftwareFilters: the frequencies of the temporal software filters applied, if none exist then n/a is used. *ChannelCount: number of the respective channels included in the recording (i.e. EEG, EOG, ECG, SEEG etc.) PowerLineFrequency: frequency (in Hz) of the power grid where the EEG/iEEG recording was done (for example, 50 or 60). RecordingDuration: length of the recording in decimal hours. RecordingType: defines whether the recording is continuous , discontinuous or epoched , where epoched is limited to time windows about events of interest. SubjectArtefactDescription: freeform description of the observed subject artifact and its possible cause (i.e. \"door open\", \"nurse walked into room at 2 min\", \"seizure at 10 min\"). iEEGPlacementScheme: freeform description of the placement of the EEG/iEEG electrodes. iEEGElectrodeGroups: field to describe the way electrodes are grouped into strips, grids or depth probes. iEEGReference: general description of the reference scheme used and (when applicable) of location of the reference electrode in the raw recordings (i.e. \"left mastoid\", \"bipolar\"). ElectrodeManufacturer: manufacturer for the electrodes used during the recording (i.e. AD-TECH, DIXI) ElectricalStimulationParameters: free form description of stimulation parameters, such as frequency or shape.","title":"*_eeg.json or *_ieeg.json"},{"location":"getting_started/08_output_structure.html#_eegedf-or-_ieegedf","text":"The *_eeg.edf/*_ieeg.edf contains the raw electrophysiology data.","title":"*_eeg.edf or *_ieeg.edf"},{"location":"getting_started/08_output_structure.html#example-structure","text":"","title":"Example Structure"},{"location":"getting_started/08_output_structure.html#interactive","text":"$(document).ready(function() { $.ajax({ url : \"../../assets/bids_dir.json\", dataType: \"text\", success : function (tree) { $('#tree').bstreeview({ data: tree }); } }); });","title":"Interactive"},{"location":"getting_started/08_output_structure.html#spred-directory-structure","text":"When the SPReD conversion is completed a new sub-directory will be created in the output directory. All unused BIDS files will be transferred to the bids_old sub-directory, while all the SPReD files will be moved to the SPReD sub-directory. Within each sub-directory of the .zip folders the same files from the BIDS output will be found: You will be uploading the .zip directories to Brain-CODE.","title":"SPReD directory structure"},{"location":"getting_started/09_spred_upload.html","text":"Upload data to SPReD \u00b6 Login to SPReD and navigate to the EPL31 project for your site. Create a new subject by pulling down the New menu near the top of the screen and selecting Subject . This will take you to the new subject page. It is recommended that you enter the participant\u2019s age and gender however these are optional. The only required field is the Subject\u2019s ID. Press Submit at the bottom of the page when done. You are now on the main subject page. From here click Add Experiment on the right. On this page, select EEG Session . Enter the participant\u2019s session name and visit ID, these should be the same as the zip file name. It is also recommended that you enter the date of the recording, but it is not required. In the list of scans, click the scissors icon to delete all but the first row. In the remaining row enter 1 for Scan number and EEG for type. You may also optionally add a note about the scan. \u2b07 Press Submit at the bottom of the page when done. You are now on the main session page. From here click on Manage Files on the right. In the window that pops up, click on Add Folder . In the other window that pops up, for Level select scans , for Item select 1 and for Folder enter EEG . Once done click Create . Now click on Upload Files . In the window that pops up select the folder we just created, for Level select scans , for Item select 1 and for Folder select EEG . Now click on Browse\u2026 and navigate to the zip file corresponding with the session you wish to upload. Once the file has been selected, click on Upload . There will be another box that pops up asking you would like to extract the contents of the archive, click Cancel . You are done! If you have more EEG sessions to upload for this participant, you can go back to the main subject page by clicking on the navigation links at the top. You can then repeat from step 5 and on.","title":"SPReD Upload [EpLink]"},{"location":"getting_started/09_spred_upload.html#upload-data-to-spred","text":"Login to SPReD and navigate to the EPL31 project for your site. Create a new subject by pulling down the New menu near the top of the screen and selecting Subject . This will take you to the new subject page. It is recommended that you enter the participant\u2019s age and gender however these are optional. The only required field is the Subject\u2019s ID. Press Submit at the bottom of the page when done. You are now on the main subject page. From here click Add Experiment on the right. On this page, select EEG Session . Enter the participant\u2019s session name and visit ID, these should be the same as the zip file name. It is also recommended that you enter the date of the recording, but it is not required. In the list of scans, click the scissors icon to delete all but the first row. In the remaining row enter 1 for Scan number and EEG for type. You may also optionally add a note about the scan. \u2b07 Press Submit at the bottom of the page when done. You are now on the main session page. From here click on Manage Files on the right. In the window that pops up, click on Add Folder . In the other window that pops up, for Level select scans , for Item select 1 and for Folder enter EEG . Once done click Create . Now click on Upload Files . In the window that pops up select the folder we just created, for Level select scans , for Item select 1 and for Folder select EEG . Now click on Browse\u2026 and navigate to the zip file corresponding with the session you wish to upload. Once the file has been selected, click on Upload . There will be another box that pops up asking you would like to extract the contents of the archive, click Cancel . You are done! If you have more EEG sessions to upload for this participant, you can go back to the main subject page by clicking on the navigation links at the top. You can then repeat from step 5 and on.","title":"Upload data to SPReD"}]}